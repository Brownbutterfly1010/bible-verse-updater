<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Andros Tech Solutions</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  * {margin:0; padding:0; box-sizing:border-box; font-family:'Poppins',sans-serif;}
  body {background:#f4f4f9; color:#333;}
  header {display:flex; justify-content:space-between; align-items:center; padding:15px 20px; background:#006064; color:white; position:sticky; top:0; z-index:10;}
  .logo img {height:100px; cursor:pointer;}
  .cart {cursor:pointer; position:relative; font-weight:600;}
  .cart span {background:crimson; color:white; font-size:12px; border-radius:50%; padding:3px 8px; position:absolute; top:-8px; right:-10px; transition:transform 0.2s;}
  .cart span.bounce {transform:scale(1.3);}
  .products {display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; padding:20px;}
  .product-card {background:white; border-radius:12px; overflow:hidden; box-shadow:0 4px 12px rgba(0,0,0,0.1); cursor:pointer; transition:transform 0.3s;}
  .product-card:hover {transform:translateY(-5px);}
  .product-card img {width:100%; height:200px; object-fit:contain; background:#f9f9f9;}
  .product-info {padding:15px;}
  .product-info h3 {margin-bottom:5px; font-size:1.1rem; color:#004d40;}
  .product-info p {font-size:0.9rem; margin-bottom:5px;}
  .product-info .price {color:#007bff; font-weight:600; margin-bottom:10px;}
  .modal {display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.6); justify-content:center; align-items:center; z-index:100;}
  .modal-content {background:white; border-radius:12px; width:90%; max-width:600px; padding:20px; position:relative;}
  .close {position:absolute; top:15px; right:15px; font-size:1.3rem; cursor:pointer; color:crimson;}
  .modal-content .back-btn {
    background:#ffca28; 
    color:#006064; 
    border:none; 
    padding:6px 12px; 
    border-radius:6px; 
    cursor:pointer; 
    font-weight:600;
    position:absolute; 
    top:15px; 
    left:15px;
    z-index:10;
  }
  .modal-images {display:flex; gap:10px; margin-bottom:15px; overflow-x:auto;}
  .modal-images img {width:80px; height:80px; object-fit:contain; cursor:pointer; border:2px solid transparent; border-radius:8px;}
  .modal-images img.selected {border-color:#007bff;}
  .main-image {width:100%; height:300px; object-fit:contain; margin-bottom:15px;}
  .modal-details h2 {margin-bottom:10px; color:#004d40;}
  .modal-details p {margin-bottom:8px; font-size:0.95rem;}
  .modal-details select, .modal-details input {width:100%; padding:8px; margin-bottom:10px; border-radius:5px; border:1px solid #ccc;}
  .add-btn {width:100%; padding:12px; background:#28a745; color:white; font-weight:700; border:none; border-radius:8px; cursor:pointer; transition:all 0.3s;}
  .add-btn:hover {background:#218838;}
  .cart-sidebar {position:fixed; top:0; right:-350px; width:350px; height:100%; background:white; box-shadow:-4px 0 12px rgba(0,0,0,0.2); padding:20px; transition:right 0.3s; z-index:200; display:flex; flex-direction:column;}
  .cart-sidebar.active {right:0;}
  .cart-sidebar h3 {margin-bottom:15px; color:#004d40;}
  .cart-item {display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;}
  .cart-item span {font-size:0.9rem;}
  .remove-btn {background:crimson; color:white; border:none; border-radius:5px; padding:3px 6px; cursor:pointer; font-size:0.8rem;}
  .cart-total {margin-top:auto; font-weight:700; text-align:right; margin-bottom:10px;}
  .checkout-btn {padding:10px; width:100%; background:#007bff; color:white; border:none; border-radius:8px; cursor:pointer; font-weight:700; transition:all 0.3s;}
  .checkout-btn:hover {background:#0056b3;}
  @media(max-width:600px){.modal-images {flex-wrap:wrap;} .modal-images img {width:60px; height:60px;}}
</style>
</head>
<body>
<header>
  <div class="logo">
    <img src="IMG_1200.png" alt="Andros Tech Solutions Logo">
  </div>
  <div class="cart" onclick="toggleCart()">ðŸ›’ Cart <span id="cart-count">0</span></div>
</header>

<div class="products" id="products"></div>

<div class="modal" id="productModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal()">âœ–</span>
    <button class="back-btn" onclick="closeModal()">â¬… Back</button>
    <img src="" class="main-image" id="modalMainImage">
    <div class="modal-images" id="modalThumbnails"></div>
    <div class="modal-details">
      <h2 id="modalTitle"></h2>
      <p class="price" id="modalPrice"></p>
      <p id="modalBattery"></p>
      <label>Color:</label>
      <select id="modalColor"></select>
      <label>Storage:</label>
      <select id="modalStorage"></select>
      <label>Quantity:</label>
      <input type="number" id="modalQuantity" value="1" min="1">
      <button class="add-btn" onclick="addModalToCart()">Add to Cart</button>
    </div>
  </div>
</div>

<div class="cart-sidebar" id="cartSidebar">
  <h3>Your Cart</h3>
  <div id="cartItems"></div>
  <div class="cart-total" id="cartTotal">Total: R0</div>
  <button class="checkout-btn" onclick="fakeCheckout()">Proceed to Checkout</button>
</div>

<script>
let productsDataList = [
  {name:'iPhone 7 Plus', basePrice:3750, battery:'90%', colors:['Black','Silver'], storages:[{size:'128GB',price:3750}], images:['i7.jpeg']},
  {name:'iPhone 8 Plus', basePrice:3850, battery:'91%', colors:['Black','Silver','Gold'], storages:[{size:'64GB',price:3850}], images:['i8.jpeg']},
  {name:'iPhone XR', basePrice:4150, battery:'92%', colors:['Red','Blue','Black'], storages:[{size:'64GB',price:4150},{size:'128GB',price:4500}], images:['XR.jpeg','IMG_XR128.png']},
  {name:'iPhone 11', basePrice:6500, battery:'94%', colors:['Purple','Yellow','Black'], storages:[{size:'64GB',price:6500}], images:['11.jpeg']},
  {name:'iPhone 12', basePrice:7500, battery:'90%', colors:['Blue','Black'], storages:[{size:'64GB',price:7500}], images:['12.jpeg']},
  {name:'iPhone 13 Pro', basePrice:11800, battery:'92%', colors:['Silver','Graphite'], storages:[{size:'128GB',price:11800}], images:['13.jpeg']},
  {name:'iPhone 14', basePrice:12800, battery:'95%', colors:['Blue','Midnight','Starlight'], storages:[{size:'128GB',price:12800}], images:['14.jpeg']},
  {name:'iPhone 15', basePrice:15850, battery:'96%', colors:['Black','Silver'], storages:[{size:'128GB',price:15850}], images:['IMG_1209.jpeg']}
];

let cart=[];
let currentProduct=null;

function renderProducts(){
  const container=document.getElementById('products');
  container.innerHTML='';
  productsDataList.forEach((p,index)=>{
    const div=document.createElement('div');
    div.className='product-card';
    div.innerHTML=`<img src='${p.images[0]}'><div class='product-info'><h3>${p.name}</h3><p>Battery Health: ${p.battery}</p><p class='price'>R ${p.basePrice}</p></div>`;
    div.onclick=()=>openModal(index);
    container.appendChild(div);
  });
}

function openModal(index){
  currentProduct=productsDataList[index];
  document.getElementById('productModal').style.display='flex';
  document.getElementById('modalMainImage').src=currentProduct.images[0];

  const thumbnails=document.getElementById('modalThumbnails');
  thumbnails.innerHTML='';
  currentProduct.images.forEach((img,i)=>{
    const t=document.createElement('img');
    t.src=img;
    if(i===0) t.classList.add('selected');
    t.onclick=()=>{
      document.getElementById('modalMainImage').src=img;
      thumbnails.querySelectorAll('img').forEach(im=>im.classList.remove('selected'));
      t.classList.add('selected');
    };
    thumbnails.appendChild(t);
  });

  document.getElementById('modalTitle').textContent=currentProduct.name;
  document.getElementById('modalBattery').textContent='Battery Health: '+currentProduct.battery;

  const colorSelect=document.getElementById('modalColor');
  colorSelect.innerHTML='';
  currentProduct.colors.forEach(c=>{const o=document.createElement('option'); o.value=c; o.textContent=c; colorSelect.appendChild(o);});

  const storageSelect=document.getElementById('modalStorage');
  storageSelect.innerHTML='';
  currentProduct.storages.forEach(s=>{const o=document.createElement('option'); o.value=s.size; o.textContent=s.size+' (R'+s.price+')'; storageSelect.appendChild(o);});

  document.getElementById('modalQuantity').value=1;
  updateModalPrice();
  storageSelect.onchange=updateModalPrice;
  document.getElementById('modalQuantity').oninput=updateModalPrice;
}

function updateModalPrice(){
  const storage=document.getElementById('modalStorage').value;
  const quantity=parseInt(document.getElementById('modalQuantity').value);
  const price=currentProduct.storages.find(s=>s.size===storage).price;
  document.getElementById('modalPrice').textContent='R '+(price*quantity);
}

function closeModal(){document.getElementById('productModal').style.display='none';}
function addModalToCart(){in
  const color=document.getElementById('modalColor').value;
  const storage=document.getElementById('modalStorage').value;
  const quantity=parseInt(document.getElementById('modalQuantity').value);
  const price=currentProduct.storages.find(s=>s.size===storage).price;
  cart.push({name:currentProduct.name,color,storage,quantity,price});
  updateCart();
  closeModal();
}
function toggleCart(){document.getElementById('cartSidebar').classList.toggle('active');}
function updateCart(){
  const cartCount=document.getElementById('cart-count');
  cartCount.textContent=cart.reduce((a,b)=>a+b.quantity,0);
  cartCount.classList.add('bounce');
  setTimeout(()=>cartCount.classList.remove('bounce'),300);
  const itemsContainer=document.getElementById('cartItems');
  itemsContainer.innerHTML='';
  let total=0;
  cart.forEach((item,index)=>{
    total+=item.price*item.quantity;
    const div=document.createElement('div');
    div.className='cart-item';
    div.innerHTML=`<span>${item.name} (${item.color}/${item.storage}) x${item.quantity} - R${item.price*item.quantity}</span><button class='remove-btn' onclick='removeFromCart(${index})'>Remove</button>`;
    itemsContainer.appendChild(div);
  });
  document.getElementById('cartTotal').textContent='Total: R'+total;
}
function removeFromCart(index){cart.splice(index,1); updateCart();}
function fakeCheckout(){if(cart.length===0){alert('Cart is empty!'); return;} alert('âœ… Thank you for your purchase! (Demo)'); cart=[]; updateCart(); toggleCart();}
renderProducts();
</script>
</body>
</html>
